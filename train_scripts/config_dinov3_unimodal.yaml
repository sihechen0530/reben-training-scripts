job:
  name: dinov3-unimodal
  partition: gpu
  qos: normal
  account: zhou.lihan
  time: "04:00:00"
  nodes: 1
  gres: "gpu:a100:1"
  cpus_per_task: 8
  mem: "32G"
  mail_user: "you@university.edu"
  mail_type: "END,FAIL"
  chdir: "/home/zhou.lihan/reben-training-scripts/scripts"
  output_dir: "../ckpt_logs"

env:
  OMP_NUM_THREADS: 8
  TOKENIZERS_PARALLELISM: "false"
  # HF_TOKEN: ""  # Required for DINOv3 models (gated models on HuggingFace)

data:
  benv2_data_dir: "/scratch/chen.sihe1"

train:
  script: "train_BigEarthNetv2_0.py"
  use_multimodal: true
  multimodal_script: "train_multimodal.py"
  python: "python"
  args: {}
  multimodal_args:
    architecture: "dinov3-base"
    seed: 42
    lr: 0.0002
    epochs: 30
    bs: 96
    drop_rate: 0.1
    warmup: 1000
    workers: 8
    use_wandb: false
    bandconfig: "rgb"        # RGB only, no ResNet branch
    dinov3_hidden_size: 768
    dinov3_pretrained: true
    dinov3_freeze: false
    dinov3_lr: 0.0001
    dino_resume_from: null
    resnet_pretrained: false
    resnet_freeze: true
    resnet_lr: 0.0
    resnet_resume_from: null
    no_resnet: true           # Skip ResNet path entirely
    fusion_type: "concat"
    classifier_type: "linear"
    use_s1: false
    config: "../train_scripts/config_dinov3_unimodal.yaml"

  sweep:
    grid:
      lr: [0.0001, 0.0002, 0.0003]
      bs: [64, 96]
      seed: [42, 123]
